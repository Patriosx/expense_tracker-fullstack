(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{28:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(22),s=n.n(r),o=(n(28),n(29),n(0)),i=function(){return Object(o.jsx)("div",{children:Object(o.jsx)("h1",{className:"bg-primary p-4 fw-bold",children:"Expense Tracker"})})},l=n(4),d=n.n(l),j=n(11),u=n(10),b=n(23),p=n(3),O=function(e,t){switch(t.type){case"GET_TRANSACTION":return Object(p.a)(Object(p.a)({},e),{},{loging:!1,transactions:t.payload});case"DELETE_TRANSACTION":return Object(p.a)(Object(p.a)({},e),{},{transactions:e.transactions.filter((function(e){return e._id!==t.payload}))});case"ADD_TRANSACTION":return Object(p.a)(Object(p.a)({},e),{},{transactions:[].concat(Object(b.a)(e.transactions),[t.payload])});case"ERROR_TRANSACTION":return Object(p.a)(Object(p.a)({},e),{},{error:t.payload});default:return e}},x=n(12),h=n.n(x),m={transactions:[],error:null,loadgin:!0},f=Object(c.createContext)(m),v=function(e){var t=e.children,n=Object(c.useReducer)(O,m),a=Object(u.a)(n,2),r=a[0],s=a[1];function i(){return(i=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/v1/transactions/");case 3:t=e.sent,s({type:"GET_TRANSACTION",payload:t.data.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),s({type:"ERROR_TRANSACTION",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function l(){return(l=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.delete("/api/v1/transactions/".concat(t));case 3:s({type:"DELETE_TRANSACTION",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s({type:"ERROR_TRANSACTION",payload:e.t0.response.data.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function b(){return(b=Object(j.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={Headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,h.a.post("/api/v1/transactions/",t,n);case 4:c=e.sent,s({type:"ADD_TRANSACTION",payload:c.data.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),s({type:"ERROR_TRANSACTION",payload:e.t0.response.data.error});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(o.jsx)(f.Provider,{value:{transactions:r.transactions,getTransactions:function(){return i.apply(this,arguments)},error:r.error,loading:r.loading,deleteTransaction:function(e){return l.apply(this,arguments)},addTransaction:function(e){return b.apply(this,arguments)}},children:t})};function N(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var y=function(){var e=Object(c.useContext)(f).transactions.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0);return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h6",{className:"text-secondary",children:"YOUR BALANCE"}),Object(o.jsxs)("h2",{className:e>=0?"ms-2 text-black":"ms-2 text-danger",children:[N(e.toFixed(2)),"\u20ac"]})]})},g=function(){var e=Object(c.useContext)(f).transactions,t=e.filter((function(e){return e.amount>0})).map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0),n=Math.abs(function(){var t=0;return e.forEach((function(e){e.amount<0&&(t+=e.amount)})),t}());return Object(o.jsx)("div",{className:"card text-center p-2 bg-primary border-4 border-primary",children:Object(o.jsxs)("div",{className:"row border bg-white",children:[Object(o.jsxs)("div",{className:"col",children:[Object(o.jsx)("h3",{children:"INCOME"}),Object(o.jsxs)("h3",{className:"text-success",children:[Object(o.jsx)("span",{children:N(t.toFixed(2))}),"\u20ac"]})]}),Object(o.jsxs)("div",{className:"col",children:[Object(o.jsx)("h3",{children:"EXPENSE"}),Object(o.jsxs)("h3",{className:"text-danger",children:[Object(o.jsx)("span",{children:N(n.toFixed(2))}),"\u20ac"]})]})]})})},T=function(e){var t=e.t,n=e.index,a=Object(c.useContext)(f).deleteTransaction,r=t.amount<0?"-":"+";return Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{className:t.amount<0?"bg-danger":"bg-success",style:{width:"1rem"},children:n+1}),Object(o.jsx)("td",{children:t.desc}),Object(o.jsx)("td",{children:r+N(Math.abs(t.amount).toFixed(2))+"\u20ac"}),Object(o.jsx)("th",{children:Object(o.jsx)("a",{href:"#",onClick:function(){return a(t._id)},children:Object(o.jsx)("i",{className:"material-icons",children:"delete"})})})]})},A=function(){var e=Object(c.useContext)(f),t=e.transactions,n=e.getTransactions;return Object(c.useEffect)((function(){n()}),[]),Object(o.jsxs)("div",{className:"container p-2",children:[Object(o.jsx)("h3",{children:"History"}),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{style:{maxHeight:"14rem",overflow:"scroll"},children:Object(o.jsx)("table",{className:"table table-hover",children:Object(o.jsxs)("tbody",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"#"}),Object(o.jsx)("th",{children:"Concept"}),Object(o.jsx)("th",{children:"Value"}),Object(o.jsx)("th",{})]}),t.map((function(e,t){return Object(o.jsx)(T,{t:e,index:t},e._id)}))]})})})]})},C=n(9),R=function(){var e=Object(c.useContext)(f).addTransaction,t=Object(c.useState)({desc:"",amount:0}),n=Object(u.a)(t,2),a=n[0],r=n[1],s=function(e){r(Object(p.a)(Object(p.a)({},a),{},Object(C.a)({},e.target.name,e.target.value)))};return Object(o.jsxs)("div",{className:"container my-4",children:[Object(o.jsx)("h3",{children:"Add new transaction"}),Object(o.jsx)("form",{action:"",children:Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsxs)("div",{className:"form-control",children:[Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("span",{htmlFor:"desc",className:"input-group-text",children:"Text"}),Object(o.jsx)("input",{type:"text",name:"desc",className:"form-control",placeholder:"enter text...",onChange:s,value:a.desc,required:!0})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("span",{htmlFor:"amount",className:"input-group-text",children:"Amount"}),Object(o.jsx)("input",{type:"number",name:"amount",className:"form-control",placeholder:"enter amount...",title:"(negative - expense, positive - income)",onChange:s,value:a.amount,required:!0})]})]}),Object(o.jsx)("button",{className:"btn btn-primary",onClick:function(t){t.preventDefault(),console.log("transaction obj",a);var n={desc:a.desc,amount:+a.amount};e(n)},children:"Add"})]})})]})};var E=function(){return Object(o.jsx)("div",{className:"App mx-auto border",style:{maxWidth:"600px"},children:Object(o.jsxs)(v,{children:[Object(o.jsx)(i,{}),Object(o.jsx)(y,{}),Object(o.jsx)(g,{}),Object(o.jsx)(A,{}),Object(o.jsx)(R,{})]})})};s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(E,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.c8edc7dc.chunk.js.map