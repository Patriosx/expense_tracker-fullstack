{"version":3,"sources":["components/Header.js","context/AppReducer.js","context/GlobalState.js","utils/format.js","components/Balance.js","components/IncomeExpenses.js","components/Transaction.js","components/TransactionList.js","components/AddTransaction.js","App.js","index.js"],"names":["Header","className","state","action","type","loging","transactions","payload","filter","t","_id","error","initialState","loadgin","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","a","axios","get","response","data","console","log","id","delete","newTransaction","config","Headers","post","Provider","value","getTransactions","loading","deleteTransaction","addTransaction","numberWithCommas","x","toString","replace","Balance","balance","useContext","map","amount","reduce","b","toFixed","IncomeExpenses","incomes","expenses","Math","abs","total","forEach","calcExpenses","Transaction","index","sign","style","width","desc","href","onClick","TransactionList","useEffect","maxHeight","overflow","i","AddTransaction","useState","transaction","setTransaction","handleInputChange","e","target","name","htmlFor","placeholder","onChange","required","title","preventDefault","App","maxWidth","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c8edc7dc.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div>\r\n      <h1 className=\"bg-primary p-4 fw-bold\">Expense Tracker</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state, action) => {\r\n  //dispatch = action\r\n  // console.log(\"state\", state);\r\n  // console.log(\"action\", action);\r\n  switch (action.type) {\r\n    case \"GET_TRANSACTION\":\r\n      return {\r\n        ...state,\r\n        loging: false,\r\n        transactions: action.payload,\r\n      };\r\n    case \"DELETE_TRANSACTION\":\r\n      return {\r\n        ...state,\r\n        transactions: state.transactions.filter(\r\n          (t) => t._id !== action.payload\r\n        ),\r\n      };\r\n    case \"ADD_TRANSACTION\":\r\n      return {\r\n        ...state,\r\n        transactions: [...state.transactions, action.payload],\r\n      };\r\n    case \"ERROR_TRANSACTION\":\r\n      return {\r\n        ...state,\r\n        error: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React, { createContext, useReducer } from \"react\";\r\nimport AppReducer from \"./AppReducer\";\r\nimport axios from \"axios\";\r\nconst initialState = {\r\n  transactions: [\r\n    // { id: 1, desc: \"Pan\", amount: -0.4 },\r\n    // { id: 2, desc: \"PS5\", amount: -500 },\r\n    // { id: 3, desc: \"Salary\", amount: 1500 },\r\n  ],\r\n  error: null,\r\n  loadgin: true,\r\n};\r\n\r\n//Create context\r\nconst GlobalContext = createContext(initialState);\r\n// console.log(initialState);\r\n/* \r\npara que otros componentes tengan acceso a nuestro GlobalState. tenemos que incluir todo dentro de un Provider component \r\n*/\r\n\r\n//Provider component\r\nconst GlobalProvider = ({ children }) => {\r\n  //children es todo lo que este envuelto por el componente GlobalContext\r\n  const [state, dispatch] = useReducer(AppReducer, initialState);\r\n  //cuando queremos llamar una accion de reducer usamos dispatch\r\n\r\n  //Actions\r\n  async function getTransactions() {\r\n    try {\r\n      const response = await axios.get(\"/api/v1/transactions/\");\r\n\r\n      dispatch({\r\n        type: \"GET_TRANSACTION\",\r\n        payload: response.data.data,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch({\r\n        type: \"ERROR_TRANSACTION\",\r\n        payload: error.response.data.error,\r\n      });\r\n    }\r\n  }\r\n\r\n  async function deleteTransaction(id) {\r\n    //payload es la informacion que quiero mandar\r\n    //dispatch = action\r\n\r\n    try {\r\n      await axios.delete(`/api/v1/transactions/${id}`);\r\n\r\n      dispatch({ type: \"DELETE_TRANSACTION\", payload: id });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: \"ERROR_TRANSACTION\",\r\n        payload: error.response.data.error,\r\n      });\r\n    }\r\n  }\r\n  async function addTransaction(newTransaction) {\r\n    const config = { Headers: { \"Content-Type\": \"application/json\" } };\r\n    try {\r\n      const response = await axios.post(\r\n        \"/api/v1/transactions/\",\r\n        newTransaction,\r\n        config\r\n      );\r\n      dispatch({ type: \"ADD_TRANSACTION\", payload: response.data.data });\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch({\r\n        type: \"ERROR_TRANSACTION\",\r\n        payload: error.response.data.error,\r\n      });\r\n    }\r\n  }\r\n  return (\r\n    // Provider tendra la propiedad value, que se podra acceder desde cualquier\r\n    //componente que lo solicite usando useContext\r\n    <GlobalContext.Provider\r\n      value={{\r\n        transactions: state.transactions,\r\n        getTransactions,\r\n        error: state.error,\r\n        loading: state.loading,\r\n        deleteTransaction,\r\n        addTransaction,\r\n      }}\r\n    >\r\n      {children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n\r\nexport { GlobalContext, GlobalProvider };\r\n","export default function numberWithCommas(x) {\r\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\nimport numberWithCommas from \"../utils/format\";\r\nconst Balance = () => {\r\n  const { transactions } = useContext(GlobalContext);\r\n  const balance = transactions.map((t) => t.amount).reduce((a, b) => a + b, 0);\r\n  return (\r\n    <div className=\"container\">\r\n      <h6 className=\"text-secondary\">YOUR BALANCE</h6>\r\n      <h2 className={balance >= 0 ? \"ms-2 text-black\" : \"ms-2 text-danger\"}>\r\n        {numberWithCommas(balance.toFixed(2))}€\r\n      </h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Balance;\r\n","import React, { useContext } from \"react\";\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\nimport numberWithCommas from \"../utils/format\";\r\nconst IncomeExpenses = () => {\r\n  const { transactions } = useContext(GlobalContext);\r\n  const incomes = transactions\r\n    .filter((t) => t.amount > 0)\r\n    .map((t) => t.amount)\r\n    .reduce((a, b) => a + b, 0);\r\n\r\n  const calcExpenses = () => {\r\n    let total = 0;\r\n    transactions.forEach((t) => {\r\n      if (t.amount < 0) total += t.amount;\r\n    });\r\n    return total;\r\n  };\r\n  const expenses = Math.abs(calcExpenses());\r\n\r\n  return (\r\n    <div className=\"card text-center p-2 bg-primary border-4 border-primary\">\r\n      <div className=\"row border bg-white\">\r\n        <div className=\"col\">\r\n          <h3>INCOME</h3>\r\n          <h3 className=\"text-success\">\r\n            <span>{numberWithCommas(incomes.toFixed(2))}</span>€\r\n          </h3>\r\n        </div>\r\n        <div className=\"col\">\r\n          <h3>EXPENSE</h3>\r\n          <h3 className=\"text-danger\">\r\n            <span>{numberWithCommas(expenses.toFixed(2))}</span>€\r\n          </h3>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IncomeExpenses;\r\n","import React, { useContext } from \"react\";\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\nimport numberWithCommas from \"../utils/format\";\r\nconst Transaction = ({ t, index }) => {\r\n  const { deleteTransaction } = useContext(GlobalContext);\r\n  const sign = t.amount < 0 ? \"-\" : \"+\";\r\n  return (\r\n    <tr>\r\n      <th\r\n        className={t.amount < 0 ? \"bg-danger\" : \"bg-success\"}\r\n        style={{ width: \"1rem\" }}\r\n      >\r\n        {index + 1}\r\n      </th>\r\n      <td>{t.desc}</td>\r\n      <td>{sign + numberWithCommas(Math.abs(t.amount).toFixed(2)) + \"€\"}</td>\r\n      <th>\r\n        <a href=\"#\" onClick={() => deleteTransaction(t._id)}>\r\n          <i className=\"material-icons\">delete</i>\r\n        </a>\r\n      </th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default Transaction;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\nimport Transaction from \"./Transaction\";\r\n\r\nconst TransactionList = () => {\r\n  const { transactions, getTransactions } = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    getTransactions();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div className=\"container p-2\">\r\n      <h3>History</h3>\r\n      <hr />\r\n      <div style={{ maxHeight: \"14rem\", overflow: \"scroll\" }}>\r\n        <table className=\"table table-hover\">\r\n          <tbody>\r\n            <tr>\r\n              <th>#</th>\r\n              <th>Concept</th>\r\n              <th>Value</th>\r\n              <th></th>\r\n            </tr>\r\n            {transactions.map((t, i) => {\r\n              return <Transaction t={t} index={i} key={t._id} />;\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionList;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\n\r\nconst AddTransaction = () => {\r\n  const { addTransaction } = useContext(GlobalContext);\r\n  const [transaction, setTransaction] = useState({\r\n    desc: \"\",\r\n    amount: 0,\r\n  });\r\n\r\n  const handleInputChange = (e) => {\r\n    setTransaction({\r\n      ...transaction,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  const handleAddTransaction = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"transaction obj\", transaction);\r\n    const newTransaction = {\r\n      // _id: Date.now() + Math.trunc(Math.random() * 99),\r\n      desc: transaction.desc,\r\n      amount: +transaction.amount,\r\n    };\r\n    addTransaction(newTransaction);\r\n  };\r\n  return (\r\n    <div className=\"container my-4\">\r\n      <h3>Add new transaction</h3>\r\n      <form action=\"\">\r\n        <div className=\"input-group\">\r\n          <div className=\"form-control\">\r\n            <div className=\"input-group\">\r\n              <span htmlFor=\"desc\" className=\"input-group-text\">\r\n                Text\r\n              </span>\r\n              <input\r\n                type=\"text\"\r\n                name=\"desc\"\r\n                className=\"form-control\"\r\n                placeholder=\"enter text...\"\r\n                onChange={handleInputChange}\r\n                value={transaction.desc}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"input-group\">\r\n              <span htmlFor=\"amount\" className=\"input-group-text\">\r\n                Amount\r\n              </span>\r\n              <input\r\n                type=\"number\"\r\n                name=\"amount\"\r\n                className=\"form-control\"\r\n                placeholder=\"enter amount...\"\r\n                title=\"(negative - expense, positive - income)\"\r\n                onChange={handleInputChange}\r\n                value={transaction.amount}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <button className=\"btn btn-primary\" onClick={handleAddTransaction}>\r\n            Add\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddTransaction;\r\n","import \"./App.css\";\nimport \"bootswatch/dist/united/bootstrap.min.css\";\nimport Header from \"./components/Header\";\nimport Balance from \"./components/Balance\";\nimport IncomeExpenses from \"./components/IncomeExpenses\";\nimport TransactionList from \"./components/TransactionList\";\nimport AddTransaction from \"./components/AddTransaction\";\nimport { GlobalProvider } from \"./context/GlobalState\";\n\nfunction App() {\n  return (\n    <div className=\"App mx-auto border\" style={{ maxWidth: \"600px\" }}>\n      <GlobalProvider>\n        <Header />\n        <Balance />\n        <IncomeExpenses />\n        <TransactionList />\n        <AddTransaction />\n      </GlobalProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}